# --- 目标设备 (从仓库默认配置生成) ---
CONFIG_TARGET_mediatek=y
CONFIG_TARGET_mediatek_mt7986=y
CONFIG_TARGET_mediatek_mt7986_DEVICE_xiaomi_redmi-router-ax6000=y
CONFIG_DEVEL=y               # 包含调试信息，可选，但有助于排错
CONFIG_TOOLCHAINOPTS=y       # 使用工具链优化，默认
CONFIG_TARGET_ROOTFS_PARTSIZE=1024 # (可选) 设置 rootfs 分区大小为 1024MB，根据需要调整或移除

# --- 核心系统组件 (通常为默认，确保存在) ---
CONFIG_PACKAGE_libc=y
CONFIG_PACKAGE_libgcc=y
CONFIG_PACKAGE_libpthread=y
CONFIG_PACKAGE_procd=y
CONFIG_PACKAGE_procd-ujail=y
CONFIG_PACKAGE_procd-seccomp=y
CONFIG_PACKAGE_ubus=y
CONFIG_PACKAGE_ubusd=y
CONFIG_PACKAGE_uci=y
CONFIG_PACKAGE_ucode=y
CONFIG_PACKAGE_ucode-mod-fs=y
CONFIG_PACKAGE_ucode-mod-math=y
CONFIG_PACKAGE_ucode-mod-uloop=y
CONFIG_PACKAGE_ucode-mod-unistring=y
CONFIG_PACKAGE_ucode-mod-ucode=y
CONFIG_PACKAGE_dropbear=y          # SSH 服务器
CONFIG_PACKAGE_firewall4=y         # 防火墙 (nftables based)
CONFIG_PACKAGE_fstools=y           # 文件系统工具
CONFIG_PACKAGE_kmod-gpio-button-hotplug=y # GPIO 按键支持
CONFIG_PACKAGE_logd=y              # 日志服务
CONFIG_PACKAGE_mtd=y               # MTD 工具
CONFIG_PACKAGE_netifd=y            # 网络接口守护进程
CONFIG_PACKAGE_odhcp6c=y           # IPv6 DHCPv6 客户端
CONFIG_PACKAGE_odhcpd-ipv6only=y   # IPv6 DHCPv6 服务器/中继
CONFIG_PACKAGE_opkg=y              # 包管理器
CONFIG_PACKAGE_ppp=y               # PPP 支持 (PPPoE 等需要)
CONFIG_PACKAGE_urngd=y             # 熵生成守护进程
CONFIG_PACKAGE_base-files=y
CONFIG_PACKAGE_busybox=y           # 默认 BusyBox
CONFIG_PACKAGE_ca-bundle=y         # SSL 证书
CONFIG_PACKAGE_dnsmasq=y           # DNS 和 DHCP 服务器

# --- 用户添加的核心软件包 ---
CONFIG_PACKAGE_adguardhome=y
CONFIG_PACKAGE_mosdns=y            # 需要 diy-part3.sh 添加源
CONFIG_PACKAGE_v2ray-geodata=y     # 需要 diy-part3.sh 添加源, MosDNS 可能需要
CONFIG_PACKAGE_samba4-server=y
CONFIG_SAMBA4_SERVER_NETBIOS=y     # Samba NetBIOS 支持
CONFIG_SAMBA4_SERVER_AVAHI=y     # Samba Avahi 支持 (可选)
CONFIG_SAMBA4_SERVER_VFS=y       # Samba VFS 支持 (建议)
CONFIG_SAMBA4_SERVER_WSDD2=y     # Samba WS-Discovery 支持 (用于网络发现)
CONFIG_PACKAGE_wsdd2=y             # WS-Discovery 服务 (配合 Samba)
CONFIG_PACKAGE_ttyd=y              # 网页终端
CONFIG_PACKAGE_sqm-scripts=y       # SQM QoS
CONFIG_PACKAGE_ddns-scripts=y      # DDNS 客户端 (基础脚本)
CONFIG_PACKAGE_ddns-scripts-cloudflare=y # (示例) 添加 Cloudflare 支持, 根据需要添加其他服务商
CONFIG_PACKAGE_ddns-scripts-dnspod=y    # 添加 DNSPod 支持
CONFIG_PACKAGE_miniupnpd=y         # UPnP 服务
CONFIG_PACKAGE_filemanager=y       # 文件管理器 (来自旧 config)
CONFIG_PACKAGE_apinger=y           # 网络连接监控 (来自旧 config)
CONFIG_PACKAGE_wechatpush=y        # 微信推送 (来自旧 config)
CONFIG_PACKAGE_netdata=y           # 系统监控 (来自旧 config)
CONFIG_PACKAGE_nlbwmon=y           # 网络带宽监控 (来自旧 config)

# --- LuCI Web 界面 ---
CONFIG_PACKAGE_luci=y
CONFIG_PACKAGE_luci-base=y
CONFIG_PACKAGE_luci-mod-admin-full=y
CONFIG_PACKAGE_luci-mod-network=y
CONFIG_PACKAGE_luci-mod-status=y
CONFIG_PACKAGE_luci-mod-system=y
CONFIG_PACKAGE_luci-proto-ipv6=y
CONFIG_PACKAGE_luci-proto-ppp=y
CONFIG_PACKAGE_luci-lib-base=y
CONFIG_PACKAGE_luci-lib-ipkg=y
CONFIG_PACKAGE_luci-lib-jsonc=y
CONFIG_PACKAGE_luci-lib-nixio=y
CONFIG_PACKAGE_rpcd=y
CONFIG_PACKAGE_rpcd-mod-file=y
CONFIG_PACKAGE_rpcd-mod-iwinfo=y
CONFIG_PACKAGE_rpcd-mod-luci=y
CONFIG_PACKAGE_rpcd-mod-rrdns=y
CONFIG_PACKAGE_luci-app-firewall=y     # 防火墙界面
CONFIG_PACKAGE_luci-app-opkg=y         # 包管理器界面 (等同于 luci-app-package-manager)
# 添加用户请求的 LuCI 应用
CONFIG_PACKAGE_luci-app-adguardhome=y
CONFIG_PACKAGE_luci-app-mosdns=y       # 需要 diy-part3.sh 添加源
CONFIG_PACKAGE_luci-app-samba4=y
CONFIG_PACKAGE_luci-app-ttyd=y
CONFIG_PACKAGE_luci-app-sqm=y
CONFIG_PACKAGE_luci-app-ddns=y
CONFIG_PACKAGE_luci-app-upnp=y
CONFIG_PACKAGE_luci-app-argon-config=y
CONFIG_PACKAGE_luci-app-filemanager=y
CONFIG_PACKAGE_luci-app-apinger=y
CONFIG_PACKAGE_luci-app-wechatpush=y
CONFIG_PACKAGE_luci-app-netdata=y
CONFIG_PACKAGE_luci-app-nlbwmon=y
# 添加主题
CONFIG_PACKAGE_luci-theme-argon=y
# 添加中文支持
CONFIG_PACKAGE_luci-i18n-base-zh-cn=y
CONFIG_PACKAGE_luci-i18n-firewall-zh-cn=y
CONFIG_PACKAGE_luci-i18n-opkg-zh-cn=y
CONFIG_PACKAGE_luci-i18n-adguardhome-zh-cn=y
CONFIG_PACKAGE_luci-i18n-mosdns-zh-cn=y
CONFIG_PACKAGE_luci-i18n-samba4-zh-cn=y
CONFIG_PACKAGE_luci-i18n-ttyd-zh-cn=y
CONFIG_PACKAGE_luci-i18n-sqm-zh-cn=y
CONFIG_PACKAGE_luci-i18n-ddns-zh-cn=y
CONFIG_PACKAGE_luci-i18n-upnp-zh-cn=y
CONFIG_PACKAGE_luci-i18n-argon-config-zh-cn=y
CONFIG_PACKAGE_luci-i18n-filemanager-zh-cn=y
CONFIG_PACKAGE_luci-i18n-apinger-zh-cn=y
CONFIG_PACKAGE_luci-i18n-wechatpush-zh-cn=y
CONFIG_PACKAGE_luci-i18n-netdata-zh-cn=y
CONFIG_PACKAGE_luci-i18n-nlbwmon-zh-cn=y

# --- 常用工具 & 库 (根据需要添加或由依赖自动选择) ---
CONFIG_PACKAGE_curl=y
CONFIG_PACKAGE_wget-ssl=y          # 很多脚本需要 SSL 支持的 wget
CONFIG_PACKAGE_htop=y
CONFIG_PACKAGE_nano=y              # 文本编辑器
CONFIG_PACKAGE_ipset=y
CONFIG_PACKAGE_iptables-nft=y      # 如果防火墙用 nftables (默认)，iptables 兼容层
CONFIG_PACKAGE_kmod-ipt-core=y     # iptables 内核模块基础
CONFIG_PACKAGE_kmod-ipt-nat=y      # NAT 模块
CONFIG_PACKAGE_kmod-ipt-conntrack=y # 连接跟踪模块
CONFIG_PACKAGE_kmod-nf-reject=y    # Reject 目标
CONFIG_PACKAGE_kmod-nf-reject6=y   # Reject 目标 (IPv6)
CONFIG_PACKAGE_kmod-nf-nat=y       # 内核 NAT 支持
CONFIG_PACKAGE_kmod-nf-log=y       # 日志模块
CONFIG_PACKAGE_kmod-nf-log6=y      # 日志模块 (IPv6)
CONFIG_PACKAGE_kmod-nf-conntrack=y # 内核连接跟踪
CONFIG_PACKAGE_kmod-nf-conntrack6=y # 内核连接跟踪 (IPv6)
CONFIG_PACKAGE_kmod-nft-core=y     # nftables 核心
CONFIG_PACKAGE_kmod-nft-nat=y      # nftables NAT
CONFIG_PACKAGE_kmod-nft-offload=y  # (可选) nftables 硬件卸载，如果需要且硬件支持
CONFIG_PACKAGE_libopenssl=y        # OpenSSL 库
CONFIG_PACKAGE_libcurl=y           # Curl 库
CONFIG_PACKAGE_libjson-c=y         # JSON-C 库
CONFIG_PACKAGE_libiwinfo=y         # 无线信息库
CONFIG_PACKAGE_libiwinfo-data=y
CONFIG_PACKAGE_libiwinfo-lua=y     # Lua 绑定
CONFIG_PACKAGE_liblua=y            # Lua 基础库
CONFIG_PACKAGE_lua=y               # Lua 解释器
CONFIG_PACKAGE_liblucihttp=y       # LuCI HTTP 库
CONFIG_PACKAGE_liblucihttp-ucode=y
CONFIG_PACKAGE_libubus-lua=y       # ubus Lua 绑定
CONFIG_PACKAGE_libuci-lua=y        # uci Lua 绑定
CONFIG_PACKAGE_rpcd-mod-iwinfo=y
CONFIG_PACKAGE_zlib=y
CONFIG_PACKAGE_terminfo=y          # 终端信息
CONFIG_PACKAGE_resolveip=y         # 域名解析工具
CONFIG_PACKAGE_coreutils=y         # 完整的 Coreutils (包含 base64, nohup 等)
CONFIG_PACKAGE_coreutils-base64=y
CONFIG_PACKAGE_coreutils-nohup=y
CONFIG_PACKAGE_zram-swap=y         # ZRAM Swap

# --- LED 配置 (来自旧 config) ---
CONFIG_PACKAGE_kmod-leds-gpio=y
CONFIG_PACKAGE_kmod-ledtrig-timer=y
CONFIG_PACKAGE_kmod-ledtrig-netdev=y
CONFIG_PACKAGE_kmod-ledtrig-heartbeat=y
CONFIG_PACKAGE_kmod-ledtrig-default-on=y

# --- 文件系统支持 (根据需要添加) ---
# CONFIG_PACKAGE_kmod-fs-ext4=y      # EXT4 (通常内置或作为模块)
# CONFIG_PACKAGE_kmod-fs-ntfs=y      # NTFS (只读, 需要 ntfs-3g 实现读写)
# CONFIG_PACKAGE_ntfs-3g=y           # NTFS 读写支持
# CONFIG_PACKAGE_kmod-fs-exfat=y     # exFAT
# CONFIG_PACKAGE_kmod-fs-vfat=y      # FAT16/FAT32
# CONFIG_PACKAGE_kmod-fs-f2fs=y      # F2FS
# CONFIG_PACKAGE_f2fsck=y            # F2FS 工具
# CONFIG_PACKAGE_f2fs-tools=y        # F2FS 工具
# --- USB 支持 (如果需要挂载 USB 存储) ---
# CONFIG_PACKAGE_kmod-usb-storage=y
# CONFIG_PACKAGE_kmod-usb-storage-uas=y # UAS 支持 (通常更快)
# CONFIG_PACKAGE_block-mount=y         # 自动挂载工具

# --- 移除旧 config 中确认不用的 ---
# CONFIG_PACKAGE_luci-app-eqos-mtk is not set
# CONFIG_PACKAGE_luci-app-mtwifi-cfg is not set
# CONFIG_PACKAGE_luci-app-turboacc-mtk is not set
# CONFIG_PACKAGE_mtkhqos_util is not set
# CONFIG_PACKAGE_mtwifi-cfg is not set
# CONFIG_BUSYBOX_CUSTOM is not set # 使用默认 BusyBox 或通过 menuconfig 配置

# --- 内核选项 (大部分保留默认，除非明确需要修改) ---
# 建议通过 make kernel_menuconfig 调整，而非直接修改 .config
# 例如，如果需要 WireGuard
# CONFIG_PACKAGE_kmod-wireguard=y
# CONFIG_PACKAGE_wireguard-tools=y
# CONFIG_PACKAGE_luci-app-wireguard=y # (可选的 Luci 界面)
# CONFIG_PACKAGE_luci-proto-wireguard=y # (可选的 Luci 协议支持)

# --- 编译选项 ---
CONFIG_INCLUDE_CONFIG=y          # 将 .config 包含在固件中 (可选，便于恢复)
CONFIG_PKG_FORTIFY_SOURCE_2=y    # 启用源码强化 (默认)
CONFIG_STRIP_KERNEL_EXPORTS=y    # (可选) 移除未使用的内核导出符号
CONFIG_USE_MKLIBS=y              # (可选) 减小库文件大小
